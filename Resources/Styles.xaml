<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">

    <!-- Color Palette -->
    <Color x:Key="DeepDarkBackground">#0F0F12</Color>
    <Color x:Key="SecondaryPanel">#16161D</Color>
    <Color x:Key="ChatBubbleUser">#27272E</Color>
    <Color x:Key="TextPrimary">#F5F5F7</Color>
    <Color x:Key="TextSecondary">#A1A1AA</Color>
    <Color x:Key="AccentPurple">#7C3AED</Color>
    <Color x:Key="AccentViolet">#C026D3</Color>
    <Color x:Key="GlassBorder">#33FFFFFF</Color>
    <Color x:Key="HoverGlow">#4D7C3AED</Color>

    <SolidColorBrush x:Key="DeepDarkBackgroundBrush" Color="{StaticResource DeepDarkBackground}"/>
    <SolidColorBrush x:Key="SecondaryPanelBrush" Color="{StaticResource SecondaryPanel}"/>
    <SolidColorBrush x:Key="ChatBubbleUserBrush" Color="{StaticResource ChatBubbleUser}"/>
    <SolidColorBrush x:Key="TextPrimaryBrush" Color="{StaticResource TextPrimary}"/>
    <SolidColorBrush x:Key="TextSecondaryBrush" Color="{StaticResource TextSecondary}"/>
    <SolidColorBrush x:Key="GlassBorderBrush" Color="{StaticResource GlassBorder}"/>

    <!-- Gradient Accent -->
    <LinearGradientBrush x:Key="AccentGradientBrush" StartPoint="0,0" EndPoint="1,1">
        <GradientStop Color="{StaticResource AccentPurple}" Offset="0"/>
        <GradientStop Color="{StaticResource AccentViolet}" Offset="1"/>
    </LinearGradientBrush>

    <!-- GLOW BRUSH (for hover effects) -->
    <SolidColorBrush x:Key="HoverGlowBrush" Color="{StaticResource HoverGlow}"/>

    <!-- Typography: встроенный Roboto из Resources/Fonts -->
    <FontFamily x:Key="PrimaryFont">pack://application:,,,/PersonalNBV;component/Resources/Fonts/Roboto-Regular.ttf#Roboto</FontFamily>
    <FontFamily x:Key="FallbackFont">pack://application:,,,/PersonalNBV;component/Resources/Fonts/Roboto-Regular.ttf#Roboto</FontFamily>

    <Style x:Key="H1Text" TargetType="TextBlock">
        <Setter Property="FontFamily" Value="{StaticResource PrimaryFont}"/>
        <Setter Property="FontSize" Value="24"/>
        <Setter Property="FontWeight" Value="SemiBold"/>
        <Setter Property="Foreground" Value="{StaticResource TextPrimaryBrush}"/>
    </Style>

    <Style x:Key="H2Text" TargetType="TextBlock">
        <Setter Property="FontFamily" Value="{StaticResource PrimaryFont}"/>
        <Setter Property="FontSize" Value="18"/>
        <Setter Property="FontWeight" Value="SemiBold"/>
        <Setter Property="Foreground" Value="{StaticResource TextPrimaryBrush}"/>
    </Style>

    <Style x:Key="BodyText" TargetType="TextBlock">
        <Setter Property="FontFamily" Value="{StaticResource PrimaryFont}"/>
        <Setter Property="FontSize" Value="14"/>
        <Setter Property="FontWeight" Value="Normal"/>
        <Setter Property="Foreground" Value="{StaticResource TextPrimaryBrush}"/>
        <Setter Property="TextWrapping" Value="Wrap"/>
    </Style>

    <Style x:Key="SecondaryText" TargetType="TextBlock">
        <Setter Property="FontFamily" Value="{StaticResource PrimaryFont}"/>
        <Setter Property="FontSize" Value="12"/>
        <Setter Property="FontWeight" Value="Normal"/>
        <Setter Property="Foreground" Value="{StaticResource TextSecondaryBrush}"/>
    </Style>

    <!-- Glassmorphism Panels (with blur - use only on small elements) -->
    <Style x:Key="GlassPanel" TargetType="Border">
        <Setter Property="Background" Value="{StaticResource SecondaryPanelBrush}"/>
        <Setter Property="Opacity" Value="0.8"/>
        <Setter Property="BorderBrush" Value="{StaticResource GlassBorderBrush}"/>
        <Setter Property="BorderThickness" Value="0.5"/>
        <Setter Property="CornerRadius" Value="12"/>
        <Setter Property="Effect">
            <Setter.Value>
                <BlurEffect Radius="8"/>
            </Setter.Value>
        </Setter>
    </Style>

    <!-- Solid panels (no blur - for header, sidebar, content area) -->
    <Style x:Key="SolidPanel" TargetType="Border">
        <Setter Property="Background" Value="{StaticResource SecondaryPanelBrush}"/>
        <Setter Property="Opacity" Value="0.98"/>
        <Setter Property="BorderBrush" Value="{StaticResource GlassBorderBrush}"/>
        <Setter Property="BorderThickness" Value="0.5"/>
        <Setter Property="CornerRadius" Value="12"/>
    </Style>

    <!-- Premium Buttons -->

    <Style x:Key="PremiumButton" TargetType="Button">
        <Setter Property="Background" Value="{StaticResource AccentGradientBrush}"/>
        <Setter Property="Foreground" Value="{StaticResource TextPrimaryBrush}"/>
        <Setter Property="FontFamily" Value="{StaticResource PrimaryFont}"/>
        <Setter Property="FontSize" Value="14"/>
        <Setter Property="FontWeight" Value="SemiBold"/>
        <Setter Property="Padding" Value="20,12"/>
        <Setter Property="BorderThickness" Value="0"/>
        <Setter Property="Cursor" Value="Hand"/>
        <Setter Property="Effect">
            <Setter.Value>
                <DropShadowEffect Color="{StaticResource AccentPurple}" 
                                  BlurRadius="20" 
                                  ShadowDepth="0" 
                                  Opacity="0.6"/>
            </Setter.Value>
        </Setter>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="Button">
                    <Border Background="{TemplateBinding Background}"
                            CornerRadius="12"
                            Padding="{TemplateBinding Padding}">
                        <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                    </Border>
                    <ControlTemplate.Triggers>
                        <Trigger Property="IsMouseOver" Value="True">
                            <Setter Property="Effect">
                                <Setter.Value>
                                    <DropShadowEffect Color="{StaticResource AccentViolet}" 
                                                      BlurRadius="30" 
                                                      ShadowDepth="0" 
                                                      Opacity="0.8"/>
                                </Setter.Value>
                            </Setter>
                        </Trigger>
                        <Trigger Property="IsEnabled" Value="False">
                            <Setter Property="Opacity" Value="0.5"/>
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <Style x:Key="GhostButton" TargetType="Button">
        <Setter Property="Background" Value="Transparent"/>
        <Setter Property="Foreground" Value="{StaticResource TextPrimaryBrush}"/>
        <Setter Property="FontFamily" Value="{StaticResource PrimaryFont}"/>
        <Setter Property="FontSize" Value="14"/>
        <Setter Property="FontWeight" Value="Normal"/>
        <Setter Property="Padding" Value="16,10"/>
        <Setter Property="BorderBrush" Value="#55FFFFFF"/>
        <Setter Property="BorderThickness" Value="1"/>
        <Setter Property="Cursor" Value="Hand"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="Button">
                    <Border Background="{TemplateBinding Background}"
                            BorderBrush="{TemplateBinding BorderBrush}"
                            BorderThickness="{TemplateBinding BorderThickness}"
                            CornerRadius="12"
                            Padding="{TemplateBinding Padding}"
                            ClipToBounds="False">
                        <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center" Margin="0"/>
                    </Border>
                    <ControlTemplate.Triggers>
                        <Trigger Property="IsMouseOver" Value="True">
                            <Setter Property="Background">
                                <Setter.Value>
                                    <SolidColorBrush Color="{StaticResource HoverGlow}"/>
                                </Setter.Value>
                            </Setter>
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <!-- Chat Bubbles -->
    <Style x:Key="UserChatBubble" TargetType="Border">
        <Setter Property="Background" Value="{StaticResource ChatBubbleUserBrush}"/>
        <Setter Property="CornerRadius" Value="12"/>
        <Setter Property="Padding" Value="16,12"/>
        <Setter Property="MaxWidth" Value="600"/>
        <Setter Property="HorizontalAlignment" Value="Right"/>
        <Setter Property="Margin" Value="48,8,16,8"/>
        <Setter Property="Effect">
            <Setter.Value>
                <DropShadowEffect Color="#000000" BlurRadius="16" ShadowDepth="4" Opacity="0.3"/>
            </Setter.Value>
        </Setter>
    </Style>

    <Style x:Key="AIChatBubble" TargetType="Border">
        <Setter Property="Background" Value="Transparent"/>
        <Setter Property="BorderBrush" Value="{StaticResource GlassBorderBrush}"/>
        <Setter Property="BorderThickness" Value="1"/>
        <Setter Property="CornerRadius" Value="12"/>
        <Setter Property="Padding" Value="16,12"/>
        <Setter Property="MaxWidth" Value="700"/>
        <Setter Property="HorizontalAlignment" Value="Left"/>
        <Setter Property="Margin" Value="16,8,48,8"/>
    </Style>

    <!-- Source Card -->
    <Style x:Key="SourceCard" TargetType="Border">
        <Setter Property="Background" Value="{StaticResource SecondaryPanelBrush}"/>
        <Setter Property="CornerRadius" Value="12"/>
        <Setter Property="Padding" Value="12"/>
        <Setter Property="Margin" Value="0,0,0,8"/>
        <Setter Property="BorderThickness" Value="0"/>
        <Setter Property="Cursor" Value="Hand"/>
        <Style.Triggers>
            <Trigger Property="IsMouseOver" Value="True">
                <Setter Property="Effect">
                    <Setter.Value>
                        <DropShadowEffect Color="{StaticResource AccentPurple}" 
                                          BlurRadius="16" 
                                          ShadowDepth="0" 
                                          Opacity="0.4"/>
                    </Setter.Value>
                </Setter>
            </Trigger>
        </Style.Triggers>
    </Style>

    <!-- Text Inputs -->

    <Style x:Key="PremiumTextBox" TargetType="TextBox">
        <Setter Property="Background" Value="{StaticResource SecondaryPanelBrush}"/>
        <Setter Property="Foreground" Value="{StaticResource TextPrimaryBrush}"/>
        <Setter Property="FontFamily" Value="{StaticResource PrimaryFont}"/>
        <Setter Property="FontSize" Value="14"/>
        <Setter Property="Padding" Value="16,12"/>
        <Setter Property="BorderBrush" Value="{StaticResource GlassBorderBrush}"/>
        <Setter Property="BorderThickness" Value="1"/>
        <Setter Property="CaretBrush" Value="{StaticResource AccentGradientBrush}"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="TextBox">
                    <Border Background="{TemplateBinding Background}"
                            BorderBrush="{TemplateBinding BorderBrush}"
                            BorderThickness="{TemplateBinding BorderThickness}"
                            CornerRadius="12"
                            Padding="{TemplateBinding Padding}">
                        <ScrollViewer x:Name="PART_ContentHost" 
                                      VerticalScrollBarVisibility="Hidden"
                                      HorizontalScrollBarVisibility="Hidden"/>
                    </Border>
                    <ControlTemplate.Triggers>
                        <Trigger Property="IsFocused" Value="True">
                            <Setter Property="BorderBrush">
                                <Setter.Value>
                                    <SolidColorBrush Color="{StaticResource AccentPurple}"/>
                                </Setter.Value>
                            </Setter>
                            <Setter Property="Effect">
                                <Setter.Value>
                                    <DropShadowEffect Color="{StaticResource AccentPurple}" 
                                                      BlurRadius="12" 
                                                      ShadowDepth="0" 
                                                      Opacity="0.4"/>
                                </Setter.Value>
                            </Setter>
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <!-- Scrollbar -->

    <Style x:Key="DarkScrollBar" TargetType="ScrollBar">
        <Setter Property="Background" Value="Transparent"/>
        <Setter Property="Width" Value="8"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="ScrollBar">
                    <Grid>
                        <Track Name="PART_Track" IsDirectionReversed="True">
                            <Track.Thumb>
                                <Thumb>
                                    <Thumb.Template>
                                        <ControlTemplate TargetType="Thumb">
                                            <Border Background="{StaticResource GlassBorderBrush}" 
                                                    CornerRadius="4"/>
                                        </ControlTemplate>
                                    </Thumb.Template>
                                </Thumb>
                            </Track.Thumb>
                        </Track>
                    </Grid>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <!-- AI Orb -->

    <Style x:Key="AIOrbContainer" TargetType="Border">
        <Setter Property="Width" Value="60"/>
        <Setter Property="Height" Value="60"/>
        <Setter Property="CornerRadius" Value="30"/>
        <Setter Property="Background" Value="{StaticResource AccentGradientBrush}"/>
        <Setter Property="Effect">
            <Setter.Value>
                <DropShadowEffect Color="{StaticResource AccentPurple}" 
                                  BlurRadius="30" 
                                  ShadowDepth="0" 
                                  Opacity="0.8"/>
            </Setter.Value>
        </Setter>
    </Style>

    <!-- Drag-Drop Overlay -->

    <Style x:Key="DragDropOverlay" TargetType="Border">
        <Setter Property="Background">
            <Setter.Value>
                <SolidColorBrush Color="{StaticResource AccentPurple}" Opacity="0.1"/>
            </Setter.Value>
        </Setter>
        <Setter Property="BorderBrush">
            <Setter.Value>
                <SolidColorBrush Color="{StaticResource AccentPurple}" Opacity="0.6"/>
            </Setter.Value>
        </Setter>
        <Setter Property="BorderThickness" Value="2"/>
        <Setter Property="CornerRadius" Value="12"/>
    </Style>

    <!-- Checkbox -->

    <Style x:Key="PremiumCheckBox" TargetType="CheckBox">
        <Setter Property="Foreground" Value="{StaticResource TextPrimaryBrush}"/>
        <Setter Property="FontFamily" Value="{StaticResource PrimaryFont}"/>
        <Setter Property="FontSize" Value="14"/>
        <Setter Property="Cursor" Value="Hand"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="CheckBox">
                    <StackPanel Orientation="Horizontal">
                        <Border Width="20" Height="20" 
                                CornerRadius="6"
                                BorderBrush="{StaticResource GlassBorderBrush}"
                                BorderThickness="1"
                                Background="{StaticResource SecondaryPanelBrush}"
                                Margin="0,0,8,0">
                            <TextBlock Text="✓" 
                                       Foreground="{StaticResource AccentGradientBrush}"
                                       FontSize="14"
                                       FontWeight="Bold"
                                       HorizontalAlignment="Center"
                                       VerticalAlignment="Center"
                                       Visibility="{TemplateBinding IsChecked, Converter={StaticResource BoolToVisibilityConverter}}"/>
                        </Border>
                        <ContentPresenter VerticalAlignment="Center"/>
                    </StackPanel>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <!-- Indicator Dot -->

    <Style x:Key="ActiveIndicatorDot" TargetType="Ellipse">
        <Setter Property="Width" Value="6"/>
        <Setter Property="Height" Value="6"/>
        <Setter Property="Fill" Value="{StaticResource AccentGradientBrush}"/>
        <Setter Property="Effect">
            <Setter.Value>
                <DropShadowEffect Color="{StaticResource AccentPurple}" 
                                  BlurRadius="8" 
                                  ShadowDepth="0" 
                                  Opacity="0.8"/>
            </Setter.Value>
        </Setter>
    </Style>

    <!-- Icon Button -->

    <Style x:Key="IconButton" TargetType="Button">
        <Setter Property="Background" Value="Transparent"/>
        <Setter Property="Foreground" Value="{StaticResource TextPrimaryBrush}"/>
        <Setter Property="Width" Value="36"/>
        <Setter Property="Height" Value="36"/>
        <Setter Property="Cursor" Value="Hand"/>
        <Setter Property="BorderThickness" Value="0"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="Button">
                    <Border Background="{TemplateBinding Background}"
                            CornerRadius="18">
                        <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                    </Border>
                    <ControlTemplate.Triggers>
                        <Trigger Property="IsMouseOver" Value="True">
                            <Setter Property="Background">
                                <Setter.Value>
                                    <SolidColorBrush Color="{StaticResource HoverGlow}"/>
                                </Setter.Value>
                            </Setter>
                        </Trigger>
                        <Trigger Property="IsPressed" Value="True">
                            <Setter Property="Background">
                                <Setter.Value>
                                    <SolidColorBrush Color="{StaticResource AccentPurple}" Opacity="0.3"/>
                                </Setter.Value>
                            </Setter>
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <!-- Tab Button -->

    <Style x:Key="TabButton" TargetType="Button" BasedOn="{StaticResource PremiumButton}">
        <Setter Property="Padding" Value="16,10"/>
        <Setter Property="Margin" Value="0"/>
    </Style>

</ResourceDictionary>
